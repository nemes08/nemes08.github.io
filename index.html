<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ayasofya Charity - Profesyonel</title>
<style>
  :root{
    --accent1:#7b4bff;
    --accent2:#9f7cff;
    --muted:#777;
    --bg:#fdfdfd;
    --card:#ffffff;
    --success:#28a745;
  }
  *{box-sizing:border-box}
  body{
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
    margin:0; padding:0; background:var(--bg); color:#222; -webkit-font-smoothing:antialiased;
  }

  /* Container */
  .wrap{max-width:980px;margin:18px auto;padding:18px;}

  /* Header */
  header{display:flex;align-items:center;gap:14px;flex-wrap:wrap;justify-content:center;}
  .logo{width:120px;height:auto;display:block;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.06);animation:pulse 2200ms infinite;}
  @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}
  .brand{display:flex;flex-direction:column;align-items:center;}
  h1{margin:6px 0;font-size:22px;color:#3b0066;letter-spacing:0.2px;}
  .lead{margin:0;color:var(--muted);font-size:14px;text-align:center}

  /* language row */
  .row-top{display:flex;justify-content:center;gap:8px;margin:12px 0 6px;}
  .lang-btn{background:#eee;border:0;padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600}
  .lang-btn.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff}

  /* main card */
  .card{background:var(--card);border-radius:12px;padding:18px;margin-top:14px;box-shadow:0 8px 24px rgba(11,6,38,0.04);}

  /* donation area */
  .donate-row{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:center}
  .donate-row .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;font-weight:700;cursor:pointer;transition:transform .16s,box-shadow .2s}
  .donate-row .btn:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(123,75,255,0.18)}
  .secondary{background:#f3f4f6;color:#222;font-weight:600}
  .favorite{font-size:22px;cursor:pointer;color:#bbb;transition:transform .18s,color .18s}
  .favorite.active{color:#ff3b7a;transform:scale(1.18);text-shadow:0 3px 8px rgba(255,59,122,0.12)}

  /* progress */
  .progress-wrap{margin:16px auto 8px;width:88%}
  .meta-row{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--muted);margin-bottom:6px}
  .progress-track{background:#eee;border-radius:999px;height:18px;overflow:hidden}
  .progress-bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;padding-right:8px;display:flex;align-items:center;justify-content:flex-end;font-weight:700;font-size:12px;transition:width .6s cubic-bezier(.2,.9,.3,1)}
  .target{font-size:13px;color:var(--muted)}

  /* small stats */
  .stats{display:flex;gap:14px;justify-content:center;margin-top:12px;flex-wrap:wrap}
  .stat{background:#fbfbff;border-radius:10px;padding:8px 12px;font-size:13px;color:#333;box-shadow:0 6px 18px rgba(11,6,38,0.02)}

  /* history list */
  .history{margin-top:12px;text-align:left;font-size:13px;color:#333;max-height:180px;overflow:auto;padding-right:6px}
  .history p{margin:6px 0;padding:6px;border-radius:8px;background:#fff;border:1px solid #f0f0f0}

  /* privacy box */
  .privacy-toggle{display:block;margin:14px auto 8px;background:none;border:0;color:var(--accent1);cursor:pointer;font-weight:700}
  .privacy{max-width:92%;margin:0 auto;border-radius:10px;background:#fff;padding:12px;border:1px solid #eee;overflow:hidden;transition:max-height .35s ease}
  .privacy.hidden{max-height:0;padding:0 12px}

  /* socials */
  .socials{display:flex;gap:10px;justify-content:center;margin-top:14px}
  .socials a{font-size:18px;text-decoration:none;padding:8px;border-radius:8px}

  /* footer */
  footer{margin:18px 0;color:var(--muted);font-size:13px;text-align:center}

  /* responsive */
  @media (max-width:720px){
    .wrap{padding:12px}
    .logo{width:96px}
    .progress-wrap{width:96%}
    h1{font-size:20px}
  }

  /* confetti (simple dots) */
  .confetti { position:fixed; left:0; top:0; width:100%; height:100%; pointer-events:none; z-index:9999; overflow:hidden; display:none; }
  .confetti i{position:absolute;width:8px;height:8px;border-radius:2px;opacity:0.95}

  /* mini receipt */
  .receipt{position:fixed;right:20px;bottom:28px;background:#fff;padding:12px 14px;border-radius:12px;box-shadow:0 10px 30px rgba(11,6,38,0.12);display:none;z-index:2000}
  .receipt small{color:var(--muted);display:block;margin-top:6px}
</style>
</head>
<body>
<div class="wrap">

  <!-- language -->
  <div class="row-top">
    <button class="lang-btn active" id="btn-tr" onclick="setLang('tr')">TR</button>
    <button class="lang-btn" id="btn-en" onclick="setLang('en')">EN</button>
  </div>

  <!-- header -->
  <header>
    <img src="images/logo.png" alt="Ayasofya Charity" class="logo" id="logo">
    <div class="brand">
      <h1 id="title">Ayasofya Charity</h1>
      <div class="lead" id="description">Ä°htiyaÃ§ sahiplerine destek â€” Pi Network Ã¼zerinden ÅŸeffaf baÄŸÄ±ÅŸ</div>
    </div>
  </header>

  <!-- main card -->
  <div class="card">

    <!-- donation area -->
    <div style="text-align:center">
      <h3 id="donate-title">BaÄŸÄ±ÅŸ Yap</h3>
      <div class="lead" id="valid-msg">âœ… Valide baÄŸlantÄ± saÄŸlandÄ±!</div>

      <div class="donate-row" style="margin-top:12px">
        <button class="btn" id="btn1" onclick="sendPi('1')"><span style="font-weight:900">Ï€</span> <span id="b1">1 Pi</span></button>
        <button class="btn" id="btn5" onclick="sendPi('5')"><span style="font-weight:900">Ï€</span> <span id="b5">5 Pi</span></button>
        <button class="btn" id="btn10" onclick="sendPi('10')"><span style="font-weight:900">Ï€</span> <span id="b10">10 Pi</span></button>
        <button class="btn secondary" id="btnCustom" onclick="customDonation()">BaÄŸÄ±ÅŸÄ± GÃ¶nder</button>
        <div style="display:inline-flex;align-items:center;gap:8px;margin-left:6px">
          <div title="Favori" id="favBtn" class="favorite" onclick="toggleFavorite()">â™¡</div>
        </div>
      </div>

      <!-- progress -->
      <div class="progress-wrap">
        <div class="meta-row"><div id="progress-label">Toplam: <strong id="total-pi">0 Pi</strong></div><div class="target" id="target-label">Hedef: <strong id="target-pi">100 Pi</strong></div></div>
        <div class="progress-track">
          <div class="progress-bar" id="progress-bar">0%</div>
        </div>
      </div>

      <!-- small stats -->
      <div class="stats" aria-hidden>
        <div class="stat" id="stat-donors">BaÄŸÄ±ÅŸ SayÄ±sÄ±: 0</div>
        <div class="stat" id="stat-last">Son BaÄŸÄ±ÅŸ: -</div>
      </div>

      <!-- history -->
      <div class="history" id="history-box"><strong style="display:block;margin-bottom:8px">BaÄŸÄ±ÅŸ GeÃ§miÅŸi</strong><div id="history-list"><em>HenÃ¼z baÄŸÄ±ÅŸ yok.</em></div></div>
    </div>

    <!-- privacy -->
    <button class="privacy-toggle" id="privacyBtn" onclick="togglePrivacy()">Gizlilik & GÃ¼ven</button>
    <div class="privacy hidden" id="privacyBox">
      <p style="margin:0 0 6px"><strong id="privacyTitle">Gizlilik & GÃ¼venlik:</strong></p>
      <p id="privacyText" style="margin:0;color:#444;font-size:14px;line-height:1.45">
        TÃ¼m baÄŸÄ±ÅŸlar Pi Network Ã¼zerinden ÅŸeffaf bir ÅŸekilde iÅŸlenir. KiÅŸisel bilgileriniz Ã¼Ã§Ã¼ncÃ¼ taraflarla paylaÅŸÄ±lmaz. BaÄŸÄ±ÅŸlar proje tarafÄ±ndan doÄŸrulanÄ±r ve ihtiyaÃ§ sahiplerine yÃ¶nlendirilir.
      </p>
    </div>

    <!-- socials -->
    <div class="socials" aria-label="Sosyal Medya">
      <a href="https://x.com/uursemen2" target="_blank" title="X / Twitter">ğŸ•Šï¸</a>
      <a href="https://facebook.com/share/1ZeKpjp33v" target="_blank" title="Facebook">ğŸ“˜</a>
      <a href="https://t.me/uur1453" target="_blank" title="Telegram">ğŸ’¬</a>
      <a href="https://instagram.com/uursemen08" target="_blank" title="Instagram">ğŸ“¸</a>
      <a href="https://tiktok.com/@semenuur" target="_blank" title="TikTok">ğŸµ</a>
      <a href="https://youtube.com/@uursemen08" target="_blank" title="YouTube">â–¶ï¸</a>
    </div>

  </div> <!-- end card -->

  <footer>
    <div id="footer-text">Â© 2025 Ayasofya Charity | TÃ¼m haklarÄ± saklÄ±dÄ±r</div>
  </footer>

</div>

<!-- confetti layer -->
<div class="confetti" id="confetti"></div>

<!-- receipt -->
<div class="receipt" id="receipt" role="status" aria-live="polite"></div>

<script>
/* ---------- Metinler & Ayarlar ---------- */
const texts = {
  tr: {
    title:"Ayasofya Charity",
    description:"Ä°htiyaÃ§ sahiplerine destek â€” Pi Network Ã¼zerinden ÅŸeffaf baÄŸÄ±ÅŸ",
    donateTitle:"BaÄŸÄ±ÅŸ Yap",
    validMsg:"âœ… Valide baÄŸlantÄ± saÄŸlandÄ±!",
    btn1:"1 Pi", btn5:"5 Pi", btn10:"10 Pi", btnCustom:"BaÄŸÄ±ÅŸÄ± GÃ¶nder",
    shareTitle:"Destekle & PaylaÅŸ", thanks:"TeÅŸekkÃ¼rler!",
    privacyTitle:"Gizlilik & GÃ¼ven", privacyContent:"TÃ¼m baÄŸÄ±ÅŸlar Pi Network Ã¼zerinden ÅŸeffaf bir ÅŸekilde iÅŸlenir. KiÅŸisel bilgileriniz Ã¼Ã§Ã¼ncÃ¼ taraflarla paylaÅŸÄ±lmaz. BaÄŸÄ±ÅŸlar proje tarafÄ±ndan doÄŸrulanÄ±r ve ihtiyaÃ§ sahiplerine yÃ¶nlendirilir.",
    targetText:"Hedef"
  },
  en: {
    title:"Ayasofya Charity",
    description:"Support people in need â€” Transparent donations via Pi Network",
    donateTitle:"Donate",
    validMsg:"âœ… Connection validated!",
    btn1:"1 Pi", btn5:"5 Pi", btn10:"10 Pi", btnCustom:"Send Donation",
    shareTitle:"Support & Share", thanks:"Thank you!",
    privacyTitle:"Privacy & Security", privacyContent:"All donations are processed transparently via Pi Network. Your personal information is never shared with third parties. Donations are verified by the project and directed to people in need.",
    targetText:"Target"
  }
};

let currentLang = 'tr';
let recipient = "uur1453";           // <--- Pi kullanÄ±cÄ± adÄ±n (gerektiÄŸinde deÄŸiÅŸtir)
let currentDonation = 0;            // toplam tutar (sayÄ±sal)
let donationTarget = 100;           // Ã¶rnek hedef (Pi)
let donationCount = 0;
let donationHistory = [];           // {amount,date}

/* ---------- Dil & BaÅŸlangÄ±Ã§ ---------- */
function setLang(lang){
  currentLang = lang;
  document.getElementById('title').innerText = texts[lang].title;
  document.getElementById('description').innerText = texts[lang].description;
  document.getElementById('donate-title').innerText = texts[lang].donateTitle;
  document.getElementById('valid-msg').innerText = texts[lang].validMsg;
  document.getElementById('b1').innerText = texts[lang].btn1;
  document.getElementById('b5').innerText = texts[lang].btn5;
  document.getElementById('b10').innerText = texts[lang].btn10;
  document.getElementById('btnCustom').innerText = texts[lang].btnCustom;
  document.getElementById('privacyTitle').innerText = texts[lang].privacyTitle + ":";
  document.getElementById('privacyText').innerText = texts[lang].privacyContent;
  document.getElementById('footer-text').innerText = (lang==='tr' ? "Â© 2025 Ayasofya Charity | TÃ¼m haklarÄ± saklÄ±dÄ±r" : "Â© 2025 Ayasofya Charity | All rights reserved");
  document.getElementById('btn-tr').classList.toggle('active', lang==='tr');
  document.getElementById('btn-en').classList.toggle('active', lang==='en');
}

/* ---------- Pi baÄŸÄ±ÅŸ tetikleme ---------- */
function sendPi(amount){
  const memo = encodeURIComponent("Ayasofya Charity BaÄŸÄ±ÅŸÄ±");
  const url = `pi://pay?recipient=${recipient}&amount=${amount}&memo=${memo}`;

  // TarayÄ±cÄ± PiBrowser mÄ±?
  if(navigator.userAgent.includes("PiBrowser")){
    window.location.href = url;
  } else {
    alert(currentLang==='tr' ? "LÃ¼tfen Pi Browser veya Pi Wallet Ã¼zerinden baÄŸÄ±ÅŸ yapÄ±n." : "Please use Pi Browser or Pi Wallet to donate.");
  }

  // Lokal gÃ¶sterimler: toplam, geÃ§miÅŸ, progress
  addDonation(parseFloat(amount));
  showReceipt(amount + " Pi");
  if(currentDonation >= donationTarget) runConfetti();
}

/* ---------- Ã–zel BaÄŸÄ±ÅŸ ---------- */
function customDonation(){
  const question = (currentLang==='tr') ? "Ne kadar Pi baÄŸÄ±ÅŸlamak istiyorsunuz?" : "How much Pi would you like to donate?";
  let amount = prompt(question);
  if(amount && !isNaN(amount)){
    sendPi(amount);
  }
}

/* ---------- Lokal GÃ¶rÃ¼nÃ¼rlÃ¼k: toplam, progress, tarih ---------- */
function addDonation(amount){
  currentDonation += amount;
  donationCount++;
  const entry = {amount:amount, date:(new Date()).toLocaleString()};
  donationHistory.unshift(entry);
  updateUI();
}

/* ---------- Progress bar & History ---------- */
function updateUI(){
  // totals
  document.getElementById('total-pi').innerText = currentDonation + " Pi";
  document.getElementById('target-pi').innerText = donationTarget + " Pi";
  document.getElementById('stat-donors').innerText = "BaÄŸÄ±ÅŸ SayÄ±sÄ±: " + donationCount;
  document.getElementById('stat-last').innerText = "Son BaÄŸÄ±ÅŸ: " + (donationHistory[0]? donationHistory[0].amount + " Pi" : "-");

  // progress bar
  const percent = Math.min(100, Math.round((currentDonation / donationTarget) * 100));
  const bar = document.getElementById('progress-bar');
  bar.style.width = percent + "%";
  bar.innerText = percent + "%";

  // history list
  const list = document.getElementById('history-list');
  if(donationHistory.length === 0){ list.innerHTML = "<em>HenÃ¼z baÄŸÄ±ÅŸ yok.</em>"; }
  else {
    list.innerHTML = donationHistory.map(d => `<p>${d.amount} Pi â€” <small style="color:${getComputedStyle(document.documentElement).getPropertyValue('--muted')};font-size:12px">${d.date}</small></p>`).join('');
  }
}

/* ---------- Receipt animation ---------- */
function showReceipt(text){
  const r = document.getElementById('receipt');
  r.innerHTML = `<strong>${(currentLang==='tr'?'TeÅŸekkÃ¼rler!':'Thank you!')}</strong><div style="margin-top:6px">${text}</div><small>${(new Date()).toLocaleString()}</small>`;
  r.style.display = 'block';
  setTimeout(()=>{ r.style.display = 'none'; }, 3000);
}

/* ---------- Privacy toggle (slide) ---------- */
function togglePrivacy(){
  const box = document.getElementById('privacyBox');
  if(box.classList.contains('hidden')){
    box.classList.remove('hidden');
    box.style.maxHeight = '260px';
  } else {
    box.style.maxHeight = '0';
    setTimeout(()=> box.classList.add('hidden'), 380);
  }
}

/* ---------- Heart / Favorite ---------- */
function toggleFavorite(){
  const f = document.getElementById('favBtn');
  f.classList.toggle('active');
}

/* ---------- Simple confetti ---------- */
function runConfetti(){
  const layer = document.getElementById('confetti');
  layer.innerHTML = ''; layer.style.display = 'block';
  const colors = ['#ff3b7a','#ffd166','#7b4bff','#4ade80','#38bdf8'];
  for(let i=0;i<80;i++){
    const el = document.createElement('i');
    el.style.left = Math.random()*100 + '%';
    el.style.top = '-10px';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.transform = `rotate(${Math.random()*360}deg)`;
    el.style.opacity = (0.8+Math.random()*0.2);
    el.style.width = (6+Math.random()*8) + 'px';
    el.style.height = el.style.width;
    layer.appendChild(el);
    // fall animation
    (function(e){
      const dest = window.innerHeight + 80 + Math.random()*200;
      const dur = 1200 + Math.random()*1000;
      e.animate([
        {transform:`translateY(0) rotate(${Math.random()*360}deg)`, opacity:1},
        {transform:`translateY(${dest}px) rotate(${Math.random()*720}deg)`, opacity:0.3}
      ],{duration:dur, easing:'cubic-bezier(.2,.9,.3,1)'});
      setTimeout(()=> e.remove(), dur+80);
    })(el);
  }
  // hide after a while
  setTimeout(()=>{ layer.style.display='none'; layer.innerHTML=''; }, 2200);
}

/* ---------- Init ---------- */
setLang('tr');
updateUI();

/* ---------- Accessibility: keyboard quick donate (optional) ---------- */
document.addEventListener('keydown', e=>{
  if(e.key === '1') sendPi('1');
  if(e.key === '5') sendPi('5');
  if(e.key === '0') sendPi('10');
});

</script>
</body>
</html>
